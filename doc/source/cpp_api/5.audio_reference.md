---
title: 语音控制服务
createTime: 2025/05/29 10:18:56
permalink: /dog/audio_reference/
---

# MagicDog SDK C++ API - 语音服务

> 提供机器人系统语音服务控制器，通过 AudioController 可以使用 RPC 方式实现对机器人音频的指令控制和状态获取。

##  接口定义
<code>AudioController</code> 是一个封装音频控制功能的 C++ 类，主要用于音频播放控制、TTS 播放、音量设置、查询，订阅语音原始数据等场景。

### AudioController
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>AudioController</td></tr>
    <tr><td>函数声明</td><td><code>AudioController();</code></td></tr>
    <tr><td>功能概述</td><td>初始化音频控制器对象，构造内部状态，分配资源等。</td></tr>
    <tr><td>备注</td><td>构造内部状态。</td></tr>
  </tbody>
</table>

### ~AudioController
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>~AudioController</td></tr>
    <tr><td>函数声明</td><td><code>~AudioController();</code></td></tr>
    <tr><td>功能概述</td><td>释放音频控制器资源，确保停止播放并清理底层资源。</td></tr>
    <tr><td>备注</td><td>确保资源安全释放。</td></tr>
  </tbody>
</table>

### Initialize
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>Initialize</td></tr>
    <tr><td>函数声明</td><td><code>bool Initialize();</code></td></tr>
    <tr><td>功能概述</td><td>初始化音频控制模块，准备播放资源与设备。</td></tr>
    <tr><td>返回值</td><td><code>true</code> 表示成功，<code>false</code> 表示失败。</td></tr>
    <tr><td>备注</td><td>与 <code>Shutdown()</code> 配对使用。</td></tr>
  </tbody>
</table>

### Shutdown
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>Shutdown</td></tr>
    <tr><td>函数声明</td><td><code>void Shutdown();</code></td></tr>
    <tr><td>功能概述</td><td>关闭音频控制器并释放资源。</td></tr>
    <tr><td>备注</td><td>确保在销毁前调用。</td></tr>
  </tbody>
</table>

### GetVoiceConfig
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>GetVoiceConfig</td></tr>
    <tr><td>函数声明</td><td><code>Status GetVoiceConfig(GetSpeechConfig& config);</code></td></tr>
    <tr><td>功能概述</td><td>获取语音系统的完整配置信息。</td></tr>
    <tr><td>参数说明</td><td><code>config</code>：通过引用返回语音系统配置信息。<br><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败状态。</td></tr>
    <tr><td>备注</td><td>阻塞接口，获取的配置包含音色、智能体、唤醒、对话等所有子配置，以及当前使用的语音模型类型。</td></tr>
  </tbody>
</table>

### SwitchTtsVoiceModel
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SwitchTtsVoiceModel</td></tr>
    <tr><td>函数声明</td><td><code>Status SwitchTtsVoiceModel(TtsType tts_type, GetSpeechConfig& config);</code></td></tr>
    <tr><td>功能概述</td><td>切换语音模型并获取更新后的配置信息。</td></tr>
    <tr><td>参数说明</td><td><code>tts_type</code>：要切换的语音模型类型<br><code>config</code>：通过引用返回切换后的语音系统配置信息<br><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败状态。</td></tr>
    <tr><td>备注</td><td>阻塞接口，切换语音模型后会自动更新配置信息。</td></tr>
  </tbody>
</table>

### SetVoiceConfig
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SetVoiceConfig</td></tr>
    <tr><td>函数声明</td><td><code>Status SetVoiceConfig(const SetSpeechConfig& config);</code></td></tr>
    <tr><td>功能概述</td><td>设置语音系统的完整配置信息。</td></tr>
    <tr><td>参数说明</td><td><code>config</code>：要设置的语音系统配置信息。<br><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败状态。</td></tr>
    <tr><td>备注</td><td>阻塞接口，设置的配置将完全覆盖当前所有语音相关配置。</td></tr>
  </tbody>
</table>

### Play
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>Play</td></tr>
    <tr><td>函数声明</td><td><code>Status Play(const TtsCommand& cmd);</code></td></tr>
    <tr><td>功能概述</td><td>播放 TTS（文本转语音）语音命令。</td></tr>
    <tr><td>参数说明</td><td><code>cmd</code>：TTS 命令，包含文本、语速、语调等。<br><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败状态。</td></tr>
    <tr><td>备注</td><td>阻塞接口，调用前需确保已初始化模块。</td></tr>
  </tbody>
</table>

### Stop
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>Stop</td></tr>
    <tr><td>函数声明</td><td><code>Status Stop();</code></td></tr>
    <tr><td>功能概述</td><td>停止当前音频播放。</td></tr>
    <tr><td>参数说明</td><td><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败状态。</td></tr>
    <tr><td>备注</td><td>阻塞接口，通常用于中断当前语音。</td></tr>
  </tbody>
</table>

### SetVolume
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SetVolume</td></tr>
    <tr><td>函数声明</td><td><code>Status SetVolume(int volume);</code></td></tr>
    <tr><td>功能概述</td><td>设置音频输出的音量。</td></tr>
    <tr><td>参数说明</td><td><code>volume</code>：音量值，通常范围为 0~100。<br><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败状态。</td></tr>
    <tr><td>备注</td><td>阻塞接口，设置后立即生效。</td></tr>
  </tbody>
</table>

### GetVolume
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>GetVolume</td></tr>
    <tr><td>函数声明</td><td><code>Status GetVolume(int& volume);</code></td></tr>
    <tr><td>功能概述</td><td>获取当前音频输出音量。</td></tr>
    <tr><td>参数说明</td><td><code>volume</code>：通过引用返回当前音量值。<br><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败状态。</td></tr>
    <tr><td>备注</td><td>阻塞接口，返回值需检查后再使用 <code>volume</code>。</td></tr>
  </tbody>
</table>

### ControlVoiceStream
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>ControlVoiceStream</td></tr>
    <tr><td>函数声明</td><td><code>Status ControlVoiceStream(bool raw_data, bool bf_data);</code></td></tr>
    <tr><td>功能概述</td><td>控制语音数据流</td></tr>
    <tr><td>参数说明</td><td><code>raw_data</code>：是否发送原始数据<br><code>bf_data</code>：是否发送 bf 数据<br><code>timeout_ms</code>：超时时间（毫秒），默认值为 5000。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口，用于控制语音数据流的开启和关闭。</td></tr>
  </tbody>
</table>

### SubscribeOriginVoiceData
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeOriginVoiceData</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeOriginVoiceData(const RawVoiceDataCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅原始语音数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到原始语音数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeBfVoiceData
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeBfVoiceData</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeBfVoiceData(const BfVoiceDataCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅 BF 语音数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到 BF 语音数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

##  类型定义

### <code>TtsPriority</code> — TTS 播报优先级等级

用于控制不同 TTS 任务之间的中断行为。优先级越高的任务将中断当前低优先级任务的播放。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>枚举值</strong></th>
      <th style="width: 20%; text-align: center;"><strong>数值</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>TtsPriority::HIGH</code></td><td>0</td><td>最高优先级，例如：低电告警、紧急提醒</td></tr>
    <tr><td><code>TtsPriority::MIDDLE</code></td><td>1</td><td>中优先级，例如：系统提示、状态播报</td></tr>
    <tr><td><code>TtsPriority::LOW</code></td><td>2</td><td>最低优先级，例如：日常语音对话、背景播报</td></tr>
  </tbody>
</table>

---

### <code>TtsMode</code> — 同一优先级下的任务调度策略

用于细化控制在相同优先级条件下多个 TTS 任务的播放顺序和清除逻辑。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>枚举值</strong></th>
      <th style="width: 20%; text-align: center;"><strong>数值</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>TtsMode::CLEARTOP</code></td><td>0</td><td>清空当前优先级所有任务（包括正在播放和等待队列），立即播放本次请求</td></tr>
    <tr><td><code>TtsMode::ADD</code></td><td>1</td><td>将本次请求追加到当前优先级队列尾部，顺序播放（不打断当前播放）</td></tr>
    <tr><td><code>TtsMode::CLEARBUFFER</code></td><td>2</td><td>清空队列中未播放的请求，保留当前播放，之后播放本次请求</td></tr>
  </tbody>
</table>

---

## 结构体定义

### <code>TtsCommand</code> — TTS 播放命令结构体

描述一次 TTS 播放请求的完整信息，支持设置唯一标识、文本内容、优先级控制以及同优先级下的调度模式。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>id</code></td><td><code>std::string</code></td><td>TTS 任务唯一 ID，例如 <code>"id_01"</code>，用于追踪播放状态</td></tr>
    <tr><td><code>content</code></td><td><code>std::string</code></td><td>要播放的文本内容，例如 <code>"你好，欢迎使用智能语音系统。"</code></td></tr>
    <tr><td><code>priority</code></td><td><code>TtsPriority</code></td><td>播报优先级，控制是否中断正在播放的低优先级语音</td></tr>
    <tr><td><code>mode</code></td><td><code>TtsMode</code></td><td>同优先级下的调度策略，控制任务是否追加、覆盖等</td></tr>
  </tbody>
</table>

---

### <code>CustomBotInfo</code> — 自定义智能体配置结构体

描述一个自定义智能体的基本配置信息。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td><code>std::string</code></td><td>智能体名称</td></tr>
    <tr><td><code>workflow</code></td><td><code>std::string</code></td><td>工作流 ID</td></tr>
    <tr><td><code>token</code></td><td><code>std::string</code></td><td>用户授权 token</td></tr>
  </tbody>
</table>

---

### <code>CustomBotMap</code> — 自定义智能体映射表

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>类型</td><td><code>std::map&lt;std::string, CustomBotInfo&gt;</code></td></tr>
    <tr><td>描述</td><td>自定义智能体映射表，键为智能体 ID，值为智能体配置信息</td></tr>
  </tbody>
</table>

---

### <code>SetSpeechConfig</code> — 语音配置参数结构体

用于设置语音系统的各项配置参数。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>speaker_id</code></td><td><code>std::string</code></td><td>音色 ID</td></tr>
    <tr><td><code>region</code></td><td><code>std::string</code></td><td>音色地区</td></tr>
    <tr><td><code>bot_id</code></td><td><code>std::string</code></td><td>模式 ID</td></tr>
    <tr><td><code>is_front_doa</code></td><td><code>bool</code></td><td>是否强制正前方识别</td></tr>
    <tr><td><code>is_fullduplex_enable</code></td><td><code>bool</code></td><td>自然对话开关</td></tr>
    <tr><td><code>is_enable</code></td><td><code>bool</code></td><td>语音开关</td></tr>
    <tr><td><code>is_doa_enable</code></td><td><code>bool</code></td><td>是否打开唤醒方位转头</td></tr>
    <tr><td><code>speaker_speed</code></td><td><code>float</code></td><td>TTS 播放语速，范围 [1,2]</td></tr>
    <tr><td><code>wakeup_name</code></td><td><code>std::string</code></td><td>唤醒名字</td></tr>
    <tr><td><code>custom_bot</code></td><td><code>CustomBotMap</code></td><td>自定义智能体配置</td></tr>
  </tbody>
</table>

---

### <code>SpeakerConfigSelected</code> — 音色选中配置结构体

当前音色配置

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>region</code></td><td><code>std::string</code></td><td>选中的地区</td></tr>
    <tr><td><code>speaker_id</code></td><td><code>std::string</code></td><td>选中的音色 ID</td></tr>
  </tbody>
</table>

---

### <code>SpeakerConfig</code> — 音色配置结构体

音色配置

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>data</code></td><td><code>std::map&lt;std::string, std::vector&lt;std::array&lt;std::string, 2&gt;&gt;&gt;</code></td><td>音色数据：地区->音色 ID->音色名称</td></tr>
    <tr><td><code>selected</code></td><td><code>SpeakerConfigSelected</code></td><td>当前选中的音色配置</td></tr>
    <tr><td><code>speaker_speed</code></td><td><code>float</code></td><td>语速</td></tr>
  </tbody>
</table>

---

### <code>BotInfo</code> — 智能体配置信息结构体

描述一个标准智能体的基本信息。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td><code>std::string</code></td><td>工作场景名称</td></tr>
    <tr><td><code>workflow</code></td><td><code>std::string</code></td><td>工作流 ID</td></tr>
  </tbody>
</table>

---

#### <code>BotConfigSelected</code> — 智能体选中项结构体

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bot_id</code></td>
      <td><code>std::string</code></td>
      <td>选中的智能体 ID</td>
    </tr>
  </tbody>
</table>

---

### <code>BotConfig</code> — 智能体配置结构体

描述智能体相关的配置信息，包括标准智能体和自定义智能体。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>data</code></td><td><code>std::map&lt;std::string, BotInfo&gt;</code></td><td>标准智能体数据：智能体 ID->智能体信息</td></tr>
    <tr><td><code>custom_data</code></td><td><code>std::map&lt;std::string, CustomBotInfo&gt;</code></td><td>自定义智能体数据：智能体 ID->自定义智能体信息</td></tr>
    <tr><td><code>selected</code></td><td><code>BotConfigSelected</code></td><td>当前选中的智能体配置</td></tr>
  </tbody>
</table>

---

### <code>WakeupConfig</code> — 唤醒配置结构体

描述唤醒相关的配置信息。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td><code>std::string</code></td><td>唤醒名称</td></tr>
    <tr><td><code>data</code></td><td><code>std::map&lt;std::string, std::string&gt;</code></td><td>唤醒词数据：唤醒词->拼音</td></tr>
  </tbody>
</table>

---

### <code>DialogConfig</code> — 对话配置结构体

描述对话相关的配置参数。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>is_front_doa</code></td><td><code>bool</code></td><td>是否强制正前方加强拾音</td></tr>
    <tr><td><code>is_fullduplex_enable</code></td><td><code>bool</code></td><td>是否打开全双工对话</td></tr>
    <tr><td><code>is_enable</code></td><td><code>bool</code></td><td>是否打开语音</td></tr>
    <tr><td><code>is_doa_enable</code></td><td><code>bool</code></td><td>是否打开唤醒方位转头</td></tr>
  </tbody>
</table>

---

### <code>TtsType</code> — 语音模型枚举

描述可选的语音合成模型类型。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>枚举值</strong></th>
      <th style="width: 20%; text-align: center;"><strong>数值</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>TtsType::NONE</code></td><td>0</td><td>无语音模型</td></tr>
    <tr><td><code>TtsType::DOUBAO</code></td><td>1</td><td>豆包语音模型</td></tr>
    <tr><td><code>TtsType::GOOGLE</code></td><td>2</td><td>谷歌语音模型</td></tr>
  </tbody>
</table>

---

### <code>GetSpeechConfig</code> — 语音系统完整配置结构体

描述语音系统的完整配置信息，包含所有子配置模块。

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>speaker_config</code></td><td><code>SpeakerConfig</code></td><td>音色配置</td></tr>
    <tr><td><code>bot_config</code></td><td><code>BotConfig</code></td><td>智能体配置</td></tr>
    <tr><td><code>wakeup_config</code></td><td><code>WakeupConfig</code></td><td>唤醒配置</td></tr>
    <tr><td><code>dialog_config</code></td><td><code>DialogConfig</code></td><td>对话配置</td></tr>
    <tr><td><code>tts_type</code></td><td><code>TtsType</code></td><td>语音模型，默认值为 <code>TtsType::NONE</code></td></tr>
  </tbody>
</table>

---

### <code>MultiArrayDimension</code> — 多维数组维度描述

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>label</code></td><td><code>std::string</code></td><td>维度标签</td></tr>
    <tr><td><code>size</code></td><td><code>int32_t</code></td><td>维度大小</td></tr>
    <tr><td><code>stride</code></td><td><code>int32_t</code></td><td>步长</td></tr>
  </tbody>
</table>

---

### <code>MultiArrayLayout</code> — 多维数组布局描述

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>dim_size</code></td><td><code>int32_t</code></td><td>维度数量</td></tr>
    <tr><td><code>dim</code></td><td><code>std::vector&lt;MultiArrayDimension&gt;</code></td><td>维度数组</td></tr>
    <tr><td><code>data_offset</code></td><td><code>int32_t</code></td><td>数据偏移量</td></tr>
  </tbody>
</table>

---

### <code>ByteMultiArray</code> — 字节数组数据结构

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>layout</code></td><td><code>MultiArrayLayout</code></td><td>数组布局信息</td></tr>
    <tr><td><code>data</code></td><td><code>std::vector&lt;uint8_t&gt;</code></td><td>字节数据数组</td></tr>
  </tbody>
</table>

## 注意事项

在使用 Subscribe 等订阅类 SDK 接口时，请避免在回调函数中执行阻塞式的数据处理操作。否则，可能导致消息堆积、处理延迟，甚至引发不可预期的错误。