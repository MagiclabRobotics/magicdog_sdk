---
title: 传感器控制服务
createTime: 2025/05/29 10:23:13
permalink: /dog/sensor_reference/
---
# MagicDog SDK C++ API - 传感器服务

> 提供机器人系统传感器（雷达/RGBD 相机/双目相机）服务，通过 SensorController 可以通过 RPC 和话题方式实现对机器人传感器的指令控制和状态获取。


## 接口定义
<code>SensorController</code> 是封装机器人各类传感器的管理类，支持 Lidar、RGBD 相机、双目相机的初始化、控制与数据订阅。


### SensorController
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SensorController</td></tr>
    <tr><td>函数声明</td><td><code>SensorController();</code></td></tr>
    <tr><td>功能概述</td><td>构造函数，初始化传感器控制器对象。</td></tr>
    <tr><td>备注</td><td>构造内部状态。</td></tr>
  </tbody>
</table>

### ~SensorController
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>~SensorController</td></tr>
    <tr><td>函数声明</td><td><code>virtual ~SensorController();</code></td></tr>
    <tr><td>功能概述</td><td>析构函数，释放所有传感器资源。</td></tr>
    <tr><td>备注</td><td>调用前应关闭传感器。</td></tr>
  </tbody>
</table>

### Initialize
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>Initialize</td></tr>
    <tr><td>函数声明</td><td><code>bool Initialize();</code></td></tr>
    <tr><td>功能概述</td><td>初始化控制器，包括资源申请和驱动加载。</td></tr>
    <tr><td>返回值</td><td><code>true</code> 表示成功，<code>false</code> 表示失败。</td></tr>
    <tr><td>备注</td><td>调用前需先构造对象。</td></tr>
  </tbody>
</table>

### Shutdown
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>Shutdown</td></tr>
    <tr><td>函数声明</td><td><code>void Shutdown();</code></td></tr>
    <tr><td>功能概述</td><td>关闭所有传感器连接并释放资源。</td></tr>
    <tr><td>备注</td><td>配合 Initialize 使用。</td></tr>
  </tbody>
</table>

### OpenChannelSwith
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>OpenChannelSwith</td></tr>
    <tr><td>函数声明</td><td><code>Status OpenChannelSwith();</code></td></tr>
    <tr><td>功能概述</td><td>打开话题转换开关。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口。</td></tr>
  </tbody>
</table>

### CloseChannelSwith
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>CloseChannelSwith</td></tr>
    <tr><td>函数声明</td><td><code>Status CloseChannelSwith();</code></td></tr>
    <tr><td>功能概述</td><td>关闭话题转换开关。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口，配合打开函数使用。</td></tr>
  </tbody>
</table>

### OpenLidar
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>OpenLidar</td></tr>
    <tr><td>函数声明</td><td><code>Status OpenLidar();</code></td></tr>
    <tr><td>功能概述</td><td>打开雷达。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口。</td></tr>
  </tbody>
</table>

### CloseLidar
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>CloseLidar</td></tr>
    <tr><td>函数声明</td><td><code>Status CloseLidar();</code></td></tr>
    <tr><td>功能概述</td><td>关闭雷达。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口，配合打开函数使用。</td></tr>
  </tbody>
</table>

### OpenRgbdCamera
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>OpenRgbdCamera</td></tr>
    <tr><td>函数声明</td><td><code>Status OpenRgbdCamera();</code></td></tr>
    <tr><td>功能概述</td><td>打开 RGBD 相机。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口。</td></tr>
  </tbody>
</table>

### CloseRgbdCamera
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>CloseRgbdCamera</td></tr>
    <tr><td>函数声明</td><td><code>Status CloseRgbdCamera();</code></td></tr>
    <tr><td>功能概述</td><td>关闭 RGBD 相机。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口，配合打开函数使用。</td></tr>
  </tbody>
</table>

### OpenBinocularCamera
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>OpenBinocularCamera</td></tr>
    <tr><td>函数声明</td><td><code>Status OpenBinocularCamera();</code></td></tr>
    <tr><td>功能概述</td><td>打开双目相机。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口。</td></tr>
  </tbody>
</table>

### CloseBinocularCamera
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>CloseBinocularCamera</td></tr>
    <tr><td>函数声明</td><td><code>Status CloseBinocularCamera();</code></td></tr>
    <tr><td>功能概述</td><td>关闭双目相机。</td></tr>
    <tr><td>返回值</td><td><code>Status::OK</code> 表示成功，其他为失败。</td></tr>
    <tr><td>备注</td><td>阻塞接口，配合打开函数使用。</td></tr>
  </tbody>
</table>

### SubscribeTof
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeTof</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeTof(const TofCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅 TOF 数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到 TOF 数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeUltra
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeUltra</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeUltra(const UltraCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅超声波数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到超声波数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeHeadTouch
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeHeadTouch</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeHeadTouch(const HeadTouchCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅头部触摸数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到头部触摸数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeLidar
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeLidar</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeLidar(const LidarCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅激光雷达数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到激光雷达数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeRgbDepthCameraInfo
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeRgbDepthCameraInfo</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeRgbDepthCameraInfo(const CameraInfoCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅 RGBD 深度相机内参数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到 RGBD 深度相机内参数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeRgbdDepthImage
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeRgbdDepthImage</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeRgbdDepthImage(const ImageCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅 RGBD 深度图像数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到 RGBD 深度图像数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeRgbdColorCameraInfo
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeRgbdColorCameraInfo</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeRgbdColorCameraInfo(const CameraInfoCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅 RGBD 彩色图像内参数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到 RGBD 彩色图像内参数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeRgbdColorImage
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeRgbdColorImage</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeRgbdColorImage(const ImageCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅 RGBD 彩色图像数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到 RGBD 彩色图像数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeImu
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeImu</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeImu(const ImuCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅 IMU 数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到 IMU 数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeLeftBinocularHighImg
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeLeftBinocularHighImg</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeLeftBinocularHighImg(const CompressedImageCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅左侧高质量双目数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到左侧高质量双目数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeLeftBinocularLowImg
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeLeftBinocularLowImg</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeLeftBinocularLowImg(const CompressedImageCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅左侧低质量双目数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到左侧低质量双目数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeRightBinocularLowImg
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeRightBinocularLowImg</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeRightBinocularLowImg(const CompressedImageCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅右侧低质量双目数据</td></tr>
    <tr><td>参数说明</td><td>callback：接收到右侧低质量双目数据后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

### SubscribeDepthImage
<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>函数名</td><td>SubscribeDepthImage</td></tr>
    <tr><td>函数声明</td><td><code>void SubscribeDepthImage(const ImageCallback callback);</code></td></tr>
    <tr><td>功能概述</td><td>订阅深度图像</td></tr>
    <tr><td>参数说明</td><td>callback：接收到深度图像后的处理回调</td></tr>
    <tr><td>备注</td><td>非阻塞接口，回调函数会在数据更新时被调用。</td></tr>
  </tbody>
</table>

## 类型定义

### <code>Imu</code> — IMU 数据结构体

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>timestamp</code></td><td><code>int64_t</code></td><td>时间戳（单位：纳秒）</td></tr>
    <tr><td><code>orientation[4]</code></td><td><code>double[4]</code></td><td>姿态四元数（w, x, y, z）</td></tr>
    <tr><td><code>angular_velocity[3]</code></td><td><code>double[3]</code></td><td>角速度（单位：rad/s）</td></tr>
    <tr><td><code>linear_acceleration[3]</code></td><td><code>double[3]</code></td><td>线加速度（单位：m/s²）</td></tr>
    <tr><td><code>temperature</code></td><td><code>float</code></td><td>温度（单位：摄氏度或其他，应明确单位）</td></tr>
  </tbody>
</table>

---

### <code>Header</code> — 通用消息头结构体

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>stamp</code></td><td><code>int64_t</code></td><td>时间戳（单位：纳秒）</td></tr>
    <tr><td><code>frame_id</code></td><td><code>std::string</code></td><td>坐标系名称</td></tr>
  </tbody>
</table>

---

### <code>PointField</code> — 点字段描述

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td><code>std::string</code></td><td>字段名（如 x、y、z、intensity）</td></tr>
    <tr><td><code>offset</code></td><td><code>int32_t</code></td><td>起始字节偏移</td></tr>
    <tr><td><code>datatype</code></td><td><code>int8_t</code></td><td>数据类型（对应常量）</td></tr>
    <tr><td><code>count</code></td><td><code>int32_t</code></td><td>每点此字段包含元素数量</td></tr>
  </tbody>
</table>

---

### <code>PointCloud2</code> — 点云数据结构体

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>header</code></td><td><code>Header</code></td><td>消息头</td></tr>
    <tr><td><code>height</code></td><td><code>int32_t</code></td><td>行数</td></tr>
    <tr><td><code>width</code></td><td><code>int32_t</code></td><td>列数</td></tr>
    <tr><td><code>fields</code></td><td><code>std::vector&lt;PointField&gt;</code></td><td>点字段数组</td></tr>
    <tr><td><code>is_bigendian</code></td><td><code>bool</code></td><td>字节序</td></tr>
    <tr><td><code>point_step</code></td><td><code>int32_t</code></td><td>每个点的字节数</td></tr>
    <tr><td><code>row_step</code></td><td><code>int32_t</code></td><td>每行的字节数</td></tr>
    <tr><td><code>data</code></td><td><code>std::vector&lt;uint8_t&gt;</code></td><td>原始点云字节数据</td></tr>
    <tr><td><code>is_dense</code></td><td><code>bool</code></td><td>是否稠密点云（无无效点）</td></tr>
  </tbody>
</table>

---

### <code>Image</code> — 图像数据结构体

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>header</code></td><td><code>Header</code></td><td>消息头</td></tr>
    <tr><td><code>height</code></td><td><code>int32_t</code></td><td>图像高度（像素）</td></tr>
    <tr><td><code>width</code></td><td><code>int32_t</code></td><td>图像宽度（像素）</td></tr>
    <tr><td><code>encoding</code></td><td><code>std::string</code></td><td>编码类型（如 rgb8, mono8）</td></tr>
    <tr><td><code>is_bigendian</code></td><td><code>bool</code></td><td>是否为大端模式</td></tr>
    <tr><td><code>step</code></td><td><code>int32_t</code></td><td>每行图像占用字节数</td></tr>
    <tr><td><code>data</code></td><td><code>std::vector&lt;uint8_t&gt;</code></td><td>原始图像字节数据</td></tr>
  </tbody>
</table>

---

### <code>CameraInfo</code> — 相机内参与畸变信息

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>header</code></td><td><code>Header</code></td><td>消息头</td></tr>
    <tr><td><code>height</code></td><td><code>int32_t</code></td><td>图像高度</td></tr>
    <tr><td><code>width</code></td><td><code>int32_t</code></td><td>图像宽度</td></tr>
    <tr><td><code>distortion_model</code></td><td><code>std::string</code></td><td>畸变模型（如 plumb_bob）</td></tr>
    <tr><td><code>D</code></td><td><code>std::vector&lt;double&gt;</code></td><td>畸变参数数组</td></tr>
    <tr><td><code>K</code></td><td><code>double[9]</code></td><td>相机内参矩阵</td></tr>
    <tr><td><code>R</code></td><td><code>double[9]</code></td><td>矫正矩阵</td></tr>
    <tr><td><code>P</code></td><td><code>double[12]</code></td><td>投影矩阵</td></tr>
    <tr><td><code>binning_x</code></td><td><code>int32_t</code></td><td>水平 binning 系数</td></tr>
    <tr><td><code>binning_y</code></td><td><code>int32_t</code></td><td>垂直 binning 系数</td></tr>
    <tr><td><code>roi_x_offset</code></td><td><code>int32_t</code></td><td>ROI 起始 x 坐标</td></tr>
    <tr><td><code>roi_y_offset</code></td><td><code>int32_t</code></td><td>ROI 起始 y 坐标</td></tr>
    <tr><td><code>roi_height</code></td><td><code>int32_t</code></td><td>ROI 高度</td></tr>
    <tr><td><code>roi_width</code></td><td><code>int32_t</code></td><td>ROI 宽度</td></tr>
    <tr><td><code>roi_do_rectify</code></td><td><code>bool</code></td><td>是否进行矫正</td></tr>
  </tbody>
</table>

---

### <code>CompressedImage</code> — 压缩图像数据结构

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>header</code></td><td><code>Header</code></td><td>消息头</td></tr>
    <tr><td><code>format</code></td><td><code>std::string</code></td><td>压缩格式（如 jpeg, png）</td></tr>
    <tr><td><code>data</code></td><td><code>std::vector&lt;uint8_t&gt;</code></td><td>压缩后的图像数据</td></tr>
  </tbody>
</table>

---

### <code>LaserScan</code> — 激光雷达数据结构

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>header</code></td><td><code>Header</code></td><td>消息头</td></tr>
    <tr><td><code>angle_min</code></td><td><code>int32_t</code></td><td>起始角度（弧度）</td></tr>
    <tr><td><code>angle_max</code></td><td><code>int32_t</code></td><td>结束角度（弧度）</td></tr>
    <tr><td><code>angle_increment</code></td><td><code>int32_t</code></td><td>角度增量（弧度）</td></tr>
    <tr><td><code>time_increment</code></td><td><code>int32_t</code></td><td>时间增量（秒）</td></tr>
    <tr><td><code>scan_time</code></td><td><code>int32_t</code></td><td>扫描时间（秒）</td></tr>
    <tr><td><code>range_min</code></td><td><code>int32_t</code></td><td>最小距离（米）</td></tr>
    <tr><td><code>range_max</code></td><td><code>int32_t</code></td><td>最大距离（米）</td></tr>
    <tr><td><code>ranges</code></td><td><code>std::vector&lt;double&gt;</code></td><td>距离数据数组</td></tr>
    <tr><td><code>intensities</code></td><td><code>std::vector&lt;double&gt;</code></td><td>强度数据数组</td></tr>
  </tbody>
</table>

---

### <code>MultiArrayDimension</code> — 多维数组维度描述

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>label</code></td><td><code>std::string</code></td><td>维度标签</td></tr>
    <tr><td><code>size</code></td><td><code>int32_t</code></td><td>维度大小</td></tr>
    <tr><td><code>stride</code></td><td><code>int32_t</code></td><td>步长</td></tr>
  </tbody>
</table>

---

### <code>MultiArrayLayout</code> — 多维数组布局描述

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>dim_size</code></td><td><code>int32_t</code></td><td>维度数量</td></tr>
    <tr><td><code>dim</code></td><td><code>std::vector&lt;MultiArrayDimension&gt;</code></td><td>维度数组</td></tr>
    <tr><td><code>data_offset</code></td><td><code>int32_t</code></td><td>数据偏移量</td></tr>
  </tbody>
</table>

---

### <code>Float32MultiArray</code> — 浮点数多维数组

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>layout</code></td><td><code>MultiArrayLayout</code></td><td>数组布局信息</td></tr>
    <tr><td><code>data</code></td><td><code>std::vector&lt;float&gt;</code></td><td>浮点数数据数组</td></tr>
  </tbody>
</table>

---

### <code>Tof</code> — TOF 数据结构

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>类型</td><td><code>Float32MultiArray</code></td></tr>
    <tr><td>描述</td><td>TOF 传感器数据，使用浮点数多维数组格式</td></tr>
  </tbody>
</table>

---

### <code>Ultra</code> — 超声波数据结构

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>类型</td><td><code>Float32MultiArray</code></td></tr>
    <tr><td>描述</td><td>超声波传感器数据，使用浮点数多维数组格式</td></tr>
  </tbody>
</table>

---

### <code>Int8</code> — 8位整数数据结构

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>字段名</strong></th>
      <th style="width: 20%; text-align: center;"><strong>类型</strong></th>
      <th style="width: 40%; text-align: center;"><strong>描述</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td><code>data</code></td><td><code>int8_t</code></td><td>8位整数数据</td></tr>
  </tbody>
</table>

---

### <code>HeadTouch</code> — 头部触摸数据结构

<table style="width: 100%; table-layout: fixed; border-collapse: collapse; text-align: left;">
  <thead>
    <tr>
      <th style="width: 40%; text-align: center;"><strong>项目</strong></th>
      <th style="width: 60%; text-align: center;"><strong>内容</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr><td>类型</td><td><code>Int8</code></td></tr>
    <tr><td>描述</td><td>头部触摸传感器数据，使用8位整数格式</td></tr>
  </tbody>
</table>

